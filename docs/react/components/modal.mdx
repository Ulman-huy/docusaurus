---
title: Modal
---

import ModalExample from "./example/ModalExample"

# Modal

### Example

```jsx
import { useState } from "react";
import Modal from "./Modal";

const ModalExample = () => {
  const [open, setOpen] = useState(false);

  return (
    <div style={{ textAlign: "center" }}>
      <button
        onClick={() => setOpen(true)}
        style={{
          border: "1px solid #ddd",
          padding: "8px 16px",
          borderRadius: 6,
          fontWeight: 600,
          cursor: "pointer",
        }}
      >
        Open Modal
      </button>
      <Modal open={open} onCancel={() => setOpen(false)}>
        Content...
      </Modal>
    </div>
  );
};

export default ModalExample;

```

### Output
<ModalExample />

### Code

```jsx title="Modal/index.tsx"
import { ReactNode, useEffect, useState } from "react";

type Props = {
  open: boolean;
  onCancel?: () => void;
  children?: ReactNode;
  className?: string;
  maskClose?: boolean;
  btnClose?: boolean;
  width?: number | string;
};

const Modal: React.FC<Props> = ({
  open,
  onCancel,
  children,
  className,
  maskClose = true,
  btnClose = true,
  width = 300,
}) => {
  const [init, setInit] = useState(false);

  useEffect(() => {
    const timmer = setTimeout(() => {
      setInit(open);
      if (open) {
        const scrollWidth =
          window.innerWidth - document.documentElement.clientWidth;
        document.body.style.overflow = "hidden";
        document.body.style.paddingRight = scrollWidth + "px";
      } else {
        document.body.style.overflow = "auto";
        document.body.style.paddingRight = "0px";
      }
    }, 150);
    return () => clearTimeout(timmer);
  }, [open]);

  return (
    <>
      {init && (
        <div className={`modal__container ${open ? "modal__mask--show" : "modal__mask--hide"}`}>
          <div className="modal__mask" onClick={() =>  maskClose && onCancel && onCancel()} />
          <div
            className={`modal__main ${className} ${open ? "modal__show" : "modal__hide"}`}
            style={{ maxWidth: width }}
          >
            <div className="modal__content" style={{ maxWidth: width }}>
              {btnClose && (
                <span
                  onClick={() => onCancel && onCancel()}
                  className="modal__btn--close"
                >
                  <svg
                    width={24}
                    height={24}
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 384 512"
                  >
                    <path
                      fill="#222831"
                      d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"
                    />
                  </svg>
                </span>
              )}
              <div className="modal__children">{children}</div>
            </div>
          </div>
        </div>
      )}
    </>
  );
};

export default Modal;

```

### Style

```css
.modal__container {
  position: fixed;
  inset: 0;
  background: #00000035;
  z-index: 9999;
  display: flex;
}
.modal__mask {
  position: absolute;
  inset: 0;
  z-index: 1;
}
.modal__main {
  padding: 16px;
  z-index: 2;
  width: 100%;
  margin: auto;
}
.modal__content {
  padding: 16px;
  background: #fff;
  border-radius: 16px;
  width: 100%;
  min-height: 100px;
}
.modal__btn--close {
  position: absolute;
  z-index: 1;
  right: 32px;
  top: 32px;
  cursor: pointer;
}
.modal__children {
  max-height: 90vh;
  overflow: hidden;
}
.modal__mask--show {
  animation: show__mask 0.15s linear forwards;
}
.modal__mask--hide {
  animation: hide__mask 0.15s linear forwards;
}
.modal__show {
  animation: show__modal 0.15s linear forwards;
}
.modal__hide {
  animation: hide__modal 0.15s linear forwards;
}

@keyframes show__mask {
  0% {
    opacity: 0;
    display: flex;
  }
  100% {
    opacity: 1;
    display: flex;
  }
}
@keyframes hide__mask {
  0% {
    opacity: 1;
    display: flex;
  }
  100% {
    opacity: 0;
    display: none;
  }
}
@keyframes hide__modal {
  0% {
    transform: translateY(0);
    opacity: 1;
    display: block;
  }
  100% {
    transform: translateY(10px);
    opacity: 0;
    display: none;
  }
}
@keyframes show__modal {
  0% {
    transform: translateY(-10px);
    opacity: 0;
    display: block;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
    display: block;
  }
}
```

